import { ShareFat, Star } from '@phosphor-icons/react';
import Image from 'next/image';
import SectionWrapper from '../sectionWrapper';

const data = [
  {
    id: 2315,
    type: 'SINGLE',
    code: 'SI2401LrLU2fNapz',
    title: '게임기기 최저가 & 신작 모음',
    subtitle: '#한정수량 특가 #기대신작',
    description: '',
    trialPeriod: null,
    installmentPrice: null,
    installmentPeriod: null,
    rating: 0,
    startDate: null,
    endDate: null,
    viewType: 'TILE',
    createdAt: '2024-01-04T07:39:44.689Z',
    items: [
      {
        createdAt: '2024-02-06T09:52:18.805Z',
        updatedAt: '2024-02-06T09:52:18.805Z',
        deletedAt: null,
        uuid: '6fbf646e-fc03-4342-b6da-87d0d5abd76d',
        name: 'SI-PU-9118#1',
        body: null,
        collectionId: 2315,
        key: 'SI-PU-9118#1',
        seq: 0,
        entityType: 'PUBLICATION',
        entityId: 9118,
        optionKey: null,
        publication: {
          id: 9118,
          title: '소니 플레이스테이션 PS5 슬림 스탠다드 에디션',
          code: 'P010103016S000200002',
          productId: 5551,
          prdType: 1,
          detailEntity: 'MEDIA',
          content: '',
          offeringType: 'publication',
          rating: 4.9,
          isExistResidual: true,
          isAdult: 1,
          preface: '',
          prefaceIconUrl: '',
          productName: 'PS5 슬림 본체 디스크 버전 2018A 신형 소니정품',
          brandName: '소니',
          media: [
            {
              seq: 0,
              type: 'THUMBNAIL',
              uri: 'https://dvd6ljcj7w3pj.cloudfront.net/media/PUBLICATION/db42299c-c42d-420f-a351-bb293543fe8a.jpeg',
              mimeType: 'image/jpeg',
              deviceType: null,
            },
          ],
          isTrial: true,
          tagsOnImage: ['리턴가능'],
          tagsOnDesc: [],
          priceInfo: {
            price: 688000,
            discountPrice: 658460,
            discountRate: 5,
          },
          discounts: [
            {
              id: 17562,
              name: null,
              type: 'INIT',
              calcMethod: 'AMOUNT',
              value: 29540,
              activeFrom: null,
              activeTo: null,
              qty: 0,
              remain: null,
            },
          ],
          applyCoupon: true,
        },
        prdType: 1,
      },
      {
        createdAt: '2024-02-06T09:52:18.807Z',
        updatedAt: '2024-02-06T09:52:18.807Z',
        deletedAt: null,
        uuid: '784d6489-30da-4320-8f7d-faaf6a59b9a4',
        name: 'SI-PU-9037#2',
        body: null,
        collectionId: 2315,
        key: 'SI-PU-9037#2',
        seq: 1,
        entityType: 'PUBLICATION',
        entityId: 9037,
        optionKey: null,
        publication: {
          id: 9037,
          title: '닌텐도 스위치 OLED_마리오 레드 본체',
          code: 'P007103010S000200001',
          productId: 5183,
          prdType: 1,
          detailEntity: 'MEDIA',
          content: '',
          offeringType: 'publication',
          rating: 5,
          isExistResidual: true,
          isAdult: 1,
          preface: '',
          prefaceIconUrl: '',
          productName: '닌텐도 스위치 OLED 마리오 레드',
          brandName: '닌텐도',
          media: [
            {
              seq: 0,
              type: 'THUMBNAIL',
              uri: 'https://dvd6ljcj7w3pj.cloudfront.net/media/PUBLICATION/21a21a77-af08-489d-ac05-3c78e60fc05d.jpeg',
              mimeType: 'image/jpeg',
              deviceType: null,
            },
          ],
          isTrial: true,
          tagsOnImage: ['리턴가능'],
          tagsOnDesc: [],
          priceInfo: {
            price: 415000,
            discountPrice: 392820,
            discountRate: 6,
          },
          discounts: [
            {
              id: 17643,
              name: null,
              type: 'INIT',
              calcMethod: 'AMOUNT',
              value: 22180,
              activeFrom: null,
              activeTo: null,
              qty: 0,
              remain: null,
            },
          ],
          applyCoupon: false,
        },
        prdType: 1,
      },
      {
        createdAt: '2024-02-06T09:52:18.810Z',
        updatedAt: '2024-02-06T09:52:18.810Z',
        deletedAt: null,
        uuid: '0be29db8-630b-4853-ba58-d3503fba50b5',
        name: 'SI-PU-9007#3',
        body: null,
        collectionId: 2315,
        key: 'SI-PU-9007#3',
        seq: 2,
        entityType: 'PUBLICATION',
        entityId: 9007,
        optionKey: null,
        publication: {
          id: 9007,
          title: '닌텐도 스위치 마리오 VS 동키콩',
          code: 'P007104134S011100001',
          productId: 5599,
          prdType: 1,
          detailEntity: 'MEDIA',
          content: '',
          offeringType: 'publication',
          rating: 5,
          isExistResidual: true,
          isAdult: 1,
          preface: '',
          prefaceIconUrl: '',
          productName: '닌텐도 스위치 마리오 VS 동키콩',
          brandName: '닌텐도',
          media: [
            {
              seq: 0,
              type: 'THUMBNAIL',
              uri: 'https://dvd6ljcj7w3pj.cloudfront.net/media/PUBLICATION/aabf7eeb-f133-41be-a109-5d90e2bad859.jpeg',
              mimeType: 'image/jpeg',
              deviceType: null,
            },
          ],
          isTrial: false,
          tagsOnImage: [],
          tagsOnDesc: [],
          priceInfo: {
            price: 54800,
            discountPrice: 50570,
            discountRate: 8,
          },
          discounts: [
            {
              id: 17605,
              name: null,
              type: 'INIT',
              calcMethod: 'AMOUNT',
              value: 4230,
              activeFrom: null,
              activeTo: null,
              qty: 0,
              remain: null,
            },
          ],
          applyCoupon: true,
        },
        prdType: 1,
      },
      {
        createdAt: '2024-02-06T09:52:18.812Z',
        updatedAt: '2024-02-06T09:52:18.812Z',
        deletedAt: null,
        uuid: '3dc44cc1-62f8-47b1-94e8-3f5a872f0e7a',
        name: 'SI-PU-9008#4',
        body: null,
        collectionId: 2315,
        key: 'SI-PU-9008#4',
        seq: 3,
        entityType: 'PUBLICATION',
        entityId: 9008,
        optionKey: null,
        publication: {
          id: 9008,
          title: 'PS5 철권8 한글판 TEKKEN8 사전예약 특전 커맨드북 선택',
          code: 'P010104034S011100001',
          productId: 5600,
          prdType: 1,
          detailEntity: 'MEDIA',
          content: '',
          offeringType: 'publication',
          rating: 5,
          isExistResidual: true,
          isAdult: 1,
          preface: '',
          prefaceIconUrl: '',
          productName: 'PS5 철권8',
          brandName: '소니',
          media: [
            {
              seq: 0,
              type: 'THUMBNAIL',
              uri: 'https://dvd6ljcj7w3pj.cloudfront.net/media/PUBLICATION/edf944ca-ef51-4b28-b87e-5ab5e7fa176d.jpeg',
              mimeType: 'image/jpeg',
              deviceType: null,
            },
          ],
          isTrial: false,
          tagsOnImage: [],
          tagsOnDesc: [],
          priceInfo: {
            price: 79800,
            discountPrice: 73850,
            discountRate: 8,
          },
          discounts: [
            {
              id: 17604,
              name: null,
              type: 'INIT',
              calcMethod: 'AMOUNT',
              value: 5950,
              activeFrom: null,
              activeTo: null,
              qty: 0,
              remain: null,
            },
          ],
          applyCoupon: true,
        },
        prdType: 1,
      },
    ],
    media: [],
    taggings: [],
    singleCollections: [],
  },
];

const HotDeals = () => {
  return (
    <SectionWrapper>
      <div className="mt-16">
        <h2 className="font-medium">HOT DEAL</h2>
        <span className="text-xs text-grey">HAPPY HOUR</span>
      </div>

      <div className="grid grid-cols-2 gap-5">
        {data[0].items.map((it) => {
          const {
            priceInfo: { discountPrice, discountRate },
            title,
            media,
            rating,
            isTrial,
          } = it.publication;

          return (
            <div key={it.collectionId} className="col-span-1 flex flex-col">
              <div className="h-[200px] relative">
                <Image fill src={media[0].uri} alt={it.name} />
                {isTrial && (
                  <div className="text-[10px] absolute bottom-3 left-0 p-1 bg-green text-white">
                    <ShareFat className="inline rotate-180 mr-1" weight="fill" />
                    리턴 가능
                  </div>
                )}
              </div>
              <span className="text-xs text-black">{title}</span>
              <div className="flex items-center text-sm font-medium mt-2">
                <span className="text-red-500">{discountRate}%</span>
                <span className="text-black">{discountPrice.toLocaleString('Us')}</span>
              </div>
              <div className="flex items-center gap-1 text-[11px] text-black mt-2">
                <Star weight="fill" className="inline" />
                <span>{rating}</span>
              </div>
            </div>
          );
        })}
      </div>
    </SectionWrapper>
  );
};

export default HotDeals;
